<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | default: site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>
  <header>
    <nav>
      <div class="nav-container">
        <a href="{{ '/' | relative_url }}" class="logo">{{ site.title }}</a>
        <div class="nav-links">
          <a href="{{ '/' | relative_url }}">Dashboard</a>
          <a href="{{ '/REMEDIATION_GROUPINGS' | relative_url }}">Remediation Groups</a>
          <a href="https://github.com/sebrandon1/compliance-scripts" target="_blank">GitHub</a>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="container">
      {{ content }}
    </div>
  </main>

  <!-- Floating Status Legend -->
  <div class="floating-legend" id="floating-legend">
    <button class="legend-toggle" onclick="toggleLegend()" title="Toggle Legend">?</button>
    <div class="legend-content">
      <div class="legend-header">Legend</div>
      <div class="legend-section">
        <div class="legend-title">Status</div>
        <div class="legend-item"><span>ðŸ”µ</span> In Progress</div>
        <div class="legend-item"><span>ðŸŸ¡</span> Pending</div>
        <div class="legend-item"><span>âšª</span> On Hold</div>
        <div class="legend-item"><span>ðŸŸ¢</span> Complete</div>
      </div>
      <div class="legend-section">
        <div class="legend-title">Severity</div>
        <div class="legend-item"><span class="severity-dot high"></span> HIGH</div>
        <div class="legend-item"><span class="severity-dot medium"></span> MEDIUM</div>
        <div class="legend-item"><span class="severity-dot low"></span> LOW</div>
        <div class="legend-item"><span class="severity-dot manual"></span> MANUAL</div>
      </div>
    </div>
  </div>

  <script>
  function toggleLegend() {
    document.getElementById('floating-legend').classList.toggle('expanded');
  }
  </script>

  <footer>
    <div class="container">
      <p>Compliance Remediation Tracker |
        <a href="https://github.com/sebrandon1/compliance-scripts">Source</a> |
        Built with Jekyll
      </p>
    </div>
  </footer>
</body>
</html>
