---
layout: group
title: SSHD Empty Passwords
group_id: H3
version: "4.21"
severity: HIGH
status: in_progress
jira: CNF-19031
pr: 466
prev_group: H2
next_group: M1
---

## Overview

This remediation configures the SSH daemon to explicitly deny authentication with empty passwords.

> **Note**: This HIGH severity SSHD setting is consolidated into a single MachineConfig (`75-sshd-hardening.yaml`) along with [M1: SSHD Configuration](M1.html) (MEDIUM) and [L1: SSHD LogLevel](L1.html) (LOW) settings in PR #466.

## Settings

| Setting | Value | Description |
|---------|-------|-------------|
| `PermitEmptyPasswords` | `no` | Prevent SSH login with empty passwords |

## Implementation

This setting is part of the consolidated SSHD hardening MachineConfig:

```yaml
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  name: 75-sshd-hardening
  labels:
    machineconfiguration.openshift.io/role: master
spec:
  config:
    ignition:
      version: 3.2.0
    storage:
      files:
        - path: /etc/ssh/sshd_config.d/50-redhat-hardening.conf
          mode: 0600
          overwrite: true
          contents:
            inline: |
              # HIGH severity
              PermitEmptyPasswords no

              # MEDIUM severity (M1)
              PermitRootLogin no
              GSSAPIAuthentication no
              IgnoreRhosts yes
              IgnoreUserKnownHosts yes
              PermitUserEnvironment no
              StrictModes yes
              PrintLastLog yes

              # LOW severity (L1)
              LogLevel INFO
```

## Compliance Checks Remediated

This group addresses the following compliance checks:

| Check | Profile | Description |
|-------|---------|-------------|
| `rhcos4-e8-worker-sshd-disable-empty-passwords` | E8 | Disable SSH empty passwords (worker) |
| `rhcos4-e8-master-sshd-disable-empty-passwords` | E8 | Disable SSH empty passwords (master) |

<div class="source-files">
<h4>Source Remediation Files</h4>
<ul>
<li>high/rhcos4-e8-worker-sshd-disable-empty-passwords.yaml</li>
<li>high/rhcos4-e8-master-sshd-disable-empty-passwords.yaml</li>
</ul>
</div>

## Verification

After applying the MachineConfig, verify SSHD configuration:

```bash
oc debug node/<node-name> -- chroot /host sshd -T | grep permitemptypasswords
# Expected output: permitemptypasswords no
```

## Related Groups

This setting is consolidated with:
- [M1: SSHD Configuration](M1.html) - 7 MEDIUM severity SSHD settings
- [L1: SSHD LogLevel](L1.html) - 1 LOW severity SSHD setting
